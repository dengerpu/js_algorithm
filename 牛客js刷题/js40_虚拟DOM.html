<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
        <script>
            var vnode = {
                tag: 'ul',
                props: {
                    class: 'list'
                },
                text: '',
                children: [
                    {
                        tag: "li",
                        props: {
                            class: "item"
                        },
                        text: '',
                        children: [
                            {
                                tag: undefined,
                                props: {},
                                text: '牛客网',
                                children: []
                            }
                        ]
                    },
                    {
                        tag: "li",
                        props: {},
                        text: '',
                        children: [
                            {
                                tag: undefined,
                                props: {},
                                text: 'nowcoder',
                                children: []
                            }
                        ]
                    }
                ]
            }
            const vnode2 = {
                        tag: "li",
                        props: {
                            class: "item"
                        },
                        text: '',
                        children: [
                            {
                                tag: undefined,
                                props: {},
                                text: '牛客网',
                                children: []
                            }
                        ]
                    }
            const _createElm = vnode => {
                // 补全代码

                // 判断是不是空标签
                if (vnode.tag == undefined) {
                    return vnode.text 
                }
                let tag_dom
                if (vnode && vnode.tag) {
                    // 创建DOM元素
                    tag_dom = document.createElement(vnode.tag)
                    // 添加自定义属性或者内置属性
                    if (vnode.props) {
                        const prop_keys = Object.keys(vnode.props)
                        for (let i = 0; i < prop_keys.length; i++) {
                           tag_dom.setAttribute(prop_keys[i], vnode.props[prop_keys[i]])
                        }
                    }
                    // 添加文本
                    if (vnode.text != '') {
                        tag_dom.innerText = vnode.text
                    }
                    // 添加子节点
                    if (vnode.children) {
                        for(let i = 0; i < vnode.children.length; i++) {
                            let zi_dom = _createElm(vnode.children[i])
                            if (typeof zi_dom == 'string') {
                                tag_dom.innerText = zi_dom
                            } else {
                                tag_dom.appendChild(zi_dom)
                            }
                        } 
                    }
                }
                return tag_dom
            }
            console.log(_createElm(vnode))
            console.log(document.createTextNode('文本'))
        </script>
</body>
</html>