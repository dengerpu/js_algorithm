<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
     <style>
            ul {
                list-style: none;
            }
        </style>
        <input type="text">
        <ul></ul>

        <script>
            var ul = document.querySelector('ul');
            var person = { sex: '男', age: '25', name: '王大锤', height: 28, weight: 32 };
            var inp = document.querySelector('input');
            inp.value = person.weight;
            const _render = () => {
                var str = `<li>姓名：<span>${person.name}</span></li>
                           <li>性别：<span>${person.sex}</span></li>
                           <li>年龄：<span>${person.age}</span></li>
                           <li>身高：<span>${person.height}</span></li>
                           <li>体重：<span>${person.weight}</span></li>`
                ul.innerHTML = str;
                inp.value = person.weight;
            }
            _render(ul);
            // 补全代码
            function Observer(target) {
                if (typeof target !== 'object' || target == null) {
                    return target
                }
                for(let key in target) {
                    defineProperty(target, key, target[key])
                }
            }
            function defineProperty(target, key, value) {
                Object.defineProperty(person, key, {
                    get: function() {
                        return value
                    },
                    set: function(newValue) {
                        if (newValue != value) {
                            value = newValue
                            _render(ul);
                        }
                    }
                })
            }
            Observer(person)
            inp.oninput = function() {
                person.weight = this.value
            }
        
            // 这里是要监听全部属性
            // let value = person.weight
            // // 注意：这里对象的key值要用引号引起来,是字符串
            // Object.defineProperty(person, 'weight', {
            //         get: function() {
            //             return value
            //         },
            //         set: function(newValue) {
            //             if (newValue != value) {
            //                 value = newValue
            //                 _render(ul);
            //             }
            //         }
            //     })
            // inp.oninput = function() {
            //     person.weight = this.value
            // }

            person.age = 44; 
            var spans = document.querySelectorAll('span');
            var result = spans[2].innerText == 44;  
            console.log(result); 
        </script> 
</body>
</html>